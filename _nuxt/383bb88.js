(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{361:function(e,t,r){"use strict";r(362)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},362:function(e,t,r){var o=r(10),n=r(17),l=r(42),c=/"/g,f=function(e,t,r,o){var n=String(l(e)),f="<"+t;return""!==r&&(f+=" "+r+'="'+String(o).replace(c,"&quot;")+'"'),f+">"+n+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(f),o(o.P+o.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},395:function(e,t,r){var content=r(503);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("5ebf84ee",content,!0,{sourceMap:!1})},502:function(e,t,r){"use strict";r(395)},503:function(e,t,r){var o=r(20)((function(i){return i[1]}));o.push([e.i,".profile-edit[data-v-418bf7e4]{background-color:#fff;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin:20px auto;max-width:600px;padding:20px}.profile-edit h1[data-v-418bf7e4]{margin-bottom:20px;text-align:center}.form-group[data-v-418bf7e4]{margin-bottom:15px}.form-group label[data-v-418bf7e4]{display:block;font-weight:700;margin-bottom:5px}.form-group input[data-v-418bf7e4],.form-group textarea[data-v-418bf7e4]{border:1px solid #ccc;border-radius:4px;padding:10px;width:100%}.btn-submit[data-v-418bf7e4]{background-color:#007bff;border:none;border-radius:4px;color:#fff;cursor:pointer;display:block;font-size:16px;padding:10px;transition:background-color .3s;width:100%}.btn-submit[data-v-418bf7e4]:hover{background-color:#0056b3}@media (max-width:768px){.profile-edit[data-v-418bf7e4]{padding:15px}.btn-submit[data-v-418bf7e4]{font-size:18px;padding:12px}}@media (max-width:480px){.profile-edit[data-v-418bf7e4]{padding:10px}.btn-submit[data-v-418bf7e4]{font-size:20px;padding:14px}}",""]),o.locals={},e.exports=o},609:function(e,t,r){"use strict";r.r(t);r(40),r(361);var o=r(8),n=(r(52),r(41)),l=r(156),c={middleware:["CheckUser"],data:function(){return{profile:{id:"",username:"",email:"",emailVisibility:!0,password:"",passwordConfirm:"",name:"",phone:"",block:!0,subscription:"JSON",active:!0,avatar:""},link:"",path1:"",obj:null}},mounted:function(){this.getData()},methods:{updateProfile:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e).profile.avatar=r.obj||r.profile.avatar,o={username:r.profile.username,email:r.profile.email,emailVisibility:r.profile.emailVisibility,password:r.profile.password,passwordConfirm:r.profile.passwordConfirm,name:r.profile.name,phone:r.profile.phone,block:r.profile.block,subscription:JSON.stringify(r.profile.subscription),active:r.profile.active,avatar:r.profile.avatar},t.next=5,n.a.collection("users").update(r.profile.id,o).then((function(){Object(l.Message)({showClose:!0,message:"Profile Updated Succcessfully!",type:"success"}),history.back()})).catch((function(){Object(l.Message)({showClose:!0,message:"Something went wrong!",type:"warning"})}));case 5:case"end":return t.stop()}}),t)})))()},handleFileUpload:function(e){try{var t=e.target.files;if(0!==t.length){this.link="";var r=t[0];r instanceof File?(this.link=URL.createObjectURL(r),this.obj=r):console.error("The selected file is not valid.")}}catch(e){console.error("Error creating object URL:",e)}},getData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,l,c,f,d,m,v,h,x,w,k,y,_,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(r=e).$route.params.id,t.next=4,n.a.collection("users").getOne("".concat(o),{});case 4:(l=t.sent)&&(c=l.id,f=l.username,d=l.email,m=l.emailVisibility,v=l.password,h=l.passwordConfirm,x=l.name,w=l.phone,k=l.block,y=l.subscription,_=l.active,C=l.avatar,r.profile={id:c,username:f,email:d,emailVisibility:m,password:v,passwordConfirm:h,name:x,phone:w,block:k,subscription:y,active:_,avatar:C}),r.path1=n.c,r.link="".concat(r.path1,"/api/files/users/").concat(r.profile.id,"/").concat(r.profile.avatar);case 8:case"end":return t.stop()}}),t)})))()}}},f=(r(502),r(16)),component=Object(f.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"profile-edit"},[t("h1",[e._v("Edit Profile")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.updateProfile.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],attrs:{type:"text",id:"name",required:""},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email"}],attrs:{type:"email",id:"email",readonly:""},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"phone"}},[e._v("Phone")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.phone,expression:"profile.phone"}],attrs:{type:"tel",id:"phone",readonly:""},domProps:{value:e.profile.phone},on:{input:function(t){t.target.composing||e.$set(e.profile,"phone",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"profilePicture"}},[e._v("Profile Picture")]),e._v(" "),t("input",{attrs:{type:"file",id:"profilePicture"},on:{change:e.handleFileUpload}})]),e._v(" "),t("img",{attrs:{width:"100",height:"100",src:e.link}}),e._v(" "),t("button",{staticClass:"btn-submit",staticStyle:{"margin-top":"1rem"},attrs:{type:"submit"}},[e._v("\n      Save Changes\n    ")])])])}),[],!1,null,"418bf7e4",null);t.default=component.exports}}]);