(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{363:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(120);var r=n(159),c=n(86);function l(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||Object(r.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},394:function(t,e,n){var content=n(501);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("6b049322",content,!0,{sourceMap:!1})},500:function(t,e,n){"use strict";n(394)},501:function(t,e,n){var o=n(20)((function(i){return i[1]}));o.push([t.i,".box[data-v-6e3df7f2]{align-items:center;display:flex;height:-moz-fit-content;height:fit-content;justify-content:center;margin:0 auto;padding-bottom:10px;padding-top:10px;width:80%}",""]),o.locals={},t.exports=o},608:function(t,e,n){"use strict";n.r(e);n(40);var o=n(363),r=n(8),c=(n(52),n(41)),l=n(156),d={middleware:["CheckUser"],data:function(){return{packages:[],data:{id:"",name:"",noofads:"",num:1,price:"",validity:""},dialogTableVisible:!1,storing:{active:Boolean,avatar:"",block:Boolean,collectionId:"",collectionName:"",created:"",email:"",emailVisibility:Boolean,id:"",name:"",phone:"",subscription:[],updated:"",username:"",verified:Boolean},subcat:[],payment_id:"",frequency:"",price:0}},mounted:function(){this.getData1(),this.getData11()},methods:{buy22:function(t){this.data=t,this.price=t.price,this.dialogTableVisible=!0},plus:function(t){this.data.noofads++,this.price=this.data.price*this.data.noofads},minus:function(t){t>1&&(this.data.noofads--,this.price=this.data.price*this.data.noofads)},getData11:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.collection("users").getFirstListItem('phone = "'.concat(t.$store.state.phone,'"'),{});case 2:t.storing=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getData1:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.collection("subscription").getFullList({sort:"-created",filter:'name = "'.concat(t.$route.params.id,'" ')});case 2:t.packages=e.sent,t.packages.forEach((function(t){t.num=1}));case 4:case"end":return e.stop()}}),e)})))()},go1:function(t){this.active=t},buy2:function(t){var e=this;console.log(t);var n;n=Object(o.a)(e.storing.subscription);for(var i=0;i<n.length;i++)e.subcat.push({amount:n[i].amount,totalamount:n[i].totalamount,category:n[i].category,catid:n[i].catid,noofpost:n[i].noofpost,noofpostremain:n[i].noofpostremain,validity:n[i].validity});e.subcat.push({amount:t.price,totalamount:e.price,category:t.name,noofpost:t.noofads,noofpostremain:t.noofads,validity:t.validity}),e.boost(t.price)},boost:function(t){var e=this;new Razorpay({key:"rzp_test_FKoWwhlrAUl0Ls",amount:100*t,handler:function(n){Object(l.Message)({showClose:!0,message:"Payment Successful!",type:"success"}),e.payment_id=n.razorpay_payment_id,e.postorder(t)},modal:{ondismiss:function(){Object(l.Message)({showClose:!0,message:"Payment Failed!",type:"warning"})}},prefill:{email:"test@email.com",contact:917002242387},notes:{name:"rahul",phone:"799723233"},theme:{color:"#667eea"}}).open()},postorder:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o,r,d,dd,f,m,h,v,y,_,w,k,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,o=new Date,r=o.getFullYear(),d=o.getMonth()+1,(dd=o.getDate())<10&&(dd="0"+dd),d<10&&(d="0"+d),dd+"/"+d+"/"+r,(f=new Date(o)).setDate(o.getDate()+28),m=f.getFullYear(),h=f.getMonth()+1,v=f.getDate(),y=f.getHours(),_=f.getMinutes(),w=f.getSeconds(),v<10&&(dd="0"+dd),h<10&&(d="0"+d),v+"/"+h+"/"+m,y+":"+_+":"+w,k=n.subcat,null===n.payment_id){t.next=25;break}return x={username:n.storing.username,email:n.storing.email,emailVisibility:n.storing.emailVisibility,name:n.storing.name,phone:n.storing.phone,block:n.storing.block,subscription:JSON.stringify(k),active:n.storing.active},t.next=25,c.a.collection("users").update(n.storing.id,x).then((function(){Object(l.Message)({showClose:!0,message:"Saved Successfuly!",type:"success"}),n.dialogTableVisible=!1,history.back()})).catch((function(){Object(l.Message)({showClose:!0,message:"Something went wrong!",type:"warning"})}));case 25:case"end":return t.stop()}}),t)})))()}}},f=(n(500),n(16)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("div",{},t._l(t.packages,(function(i,n){return e("div",{key:n,staticClass:"box",staticStyle:{"justify-content":"space-between"}},[e("p",{staticStyle:{width:"30%"}},[e("strong",[t._v(t._s(i.name))])]),t._v(" "),e("p",{staticStyle:{width:"10%"}},[e("strong",[t._v(t._s(i.noofads)+" Ads")])]),t._v(" "),e("p",{staticStyle:{width:"10%"}},[e("strong",[t._v("₹"+t._s(i.price))])]),t._v(" "),e("p",{staticStyle:{width:"10%"}},[e("strong",[t._v(t._s(i.validity)+" days")])]),t._v(" "),e("p",{staticStyle:{width:"30%",border:"1px solid #000",display:"flex","justify-content":"center","align-items":"center"},on:{click:function(e){return t.buy22(i)}}},[e("strong",[t._v("BUY NOW")])])])})),0),t._v(" "),e("el-dialog",{attrs:{title:"Slect Plans",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[e("div",{staticClass:"box"},[e("div",{staticClass:"boxin",staticStyle:{width:"100%"}},[e("div",{staticStyle:{width:"60%"}},[e("p",[e("strong",[t._v(t._s(t.data.name))])]),t._v(" "),e("p",[t._v("\n            Number of Ads - "),e("button",{on:{click:function(e){return t.minus(t.data.noofads)}}},[t._v("-")]),t._v("\n            "+t._s(t.data.noofads)+"\n            "),e("button",{on:{click:function(e){return t.plus(t.data.noofads)}}},[t._v("+")])]),t._v(" "),e("p",[t._v(t._s(t.data.validity))]),t._v(" "),e("p",[e("strong",[t._v("₹"+t._s(t.data.price))])]),t._v(" "),e("p",[e("strong",[t._v("₹"+t._s(t.price))])]),t._v(" "),e("p",{staticStyle:{width:"40%",border:"1px solid #000",display:"flex","justify-content":"center","align-items":"center"},on:{click:function(e){return t.buy2(t.data)}}},[t._v("\n            BUY\n          ")])])])])])],1)}),[],!1,null,"6e3df7f2",null);e.default=component.exports}}]);